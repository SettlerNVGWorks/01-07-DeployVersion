# Настройка ngrok для работы с фронтендом и API

## Проблема
При использовании одного туннеля ngrok только для frontend (порт 3000), API запросы не проходят, потому что backend на порту 8001 недоступен извне.

## Решение 1: Два туннеля ngrok (Рекомендуется)

### Шаг 1: Запустите ngrok для backend
В первом терминале:
```bash
npx ngrok http 8001
```

Вы получите URL вида: `https://abcd-12-34-56-78.ngrok-free.app`

### Шаг 2: Обновите конфигурацию frontend
Добавьте в файл `/app/frontend/.env` переменную:
```
REACT_APP_BACKEND_URL_NGROK=https://abcd-12-34-56-78.ngrok-free.app
```

### Шаг 3: Перезапустите frontend
```bash
sudo supervisorctl restart frontend
```

### Шаг 4: Запустите ngrok для frontend
Во втором терминале:
```bash
npx ngrok http 3000
```

Вы получите URL вида: `https://efgh-12-34-56-78.ngrok-free.app`

### Шаг 5: Откройте сайт через ngrok
Теперь откройте в браузере URL frontend ngrok, и все должно работать!

## Решение 2: Один туннель через прокси (Альтернативное)

Если вы хотите использовать только один туннель, можно настроить прокси-сервер, который будет обрабатывать и frontend, и backend запросы.

## Проверка работы

После настройки откройте ngrok URL и проверьте:
1. Загружается ли главная страница
2. Отображаются ли матчи в разделе "Матчи на сегодня"
3. Работает ли авторизация

## Устранение проблем

Если не работает:
1. Убедитесь, что оба сервиса запущены: `sudo supervisorctl status`
2. Проверьте, что backend отвечает: `curl http://localhost:8001/api/health`
3. Проверьте console в браузере на наличие ошибок
4. Убедитесь, что правильно указали URL backend в .env файле